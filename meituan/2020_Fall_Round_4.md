## 美团2021届秋招笔试第四场

### 总结

题目难度不是递增，B、C是签到题。然而第一题不是特别难，还是从头做起。D的测试数据不全面，目前解法是O(n*nlogn)。[源码](./src/mt_2020_fall_round_4.cpp)

### A 

这道题的思考过程值得记录。

1. 一看上去没有思路，画出测试样例，此外随手画些更复杂的树。
2. 一开始想到的是与公共祖先有关，就是说假如x和y在不同的子树上，那么公共祖先位置可能是潜在的相遇处。
3. 但是2的想法很难考虑全面。因为不同的x和y初值会导致y能否先越过公共祖先跑到其他子树成为变数，也就是说2的思路将把问题转化为一个需要考虑诸多细节的动态过程。
4. 灵机一动。突然想到：
   * 树根是所有节点的公共祖先
   * 题目并没指定根节点，根据树的特性，我可以把x作为根节点，那么y就落在了x的眼皮底下，问题似乎会简化很多。
5. 思路2：将x作为根节点后，x其实就可以“智能地”分析y的移动，因为x一旦移动到某一颗子树，就会切断y向x另一颗子树移动的可能，加上双方的移动是互相可见的，所以不管y采用怎样的策略，x都是掌握主动权的。最开始我以为树的高度就是最终答案，因为y肯定要不断向距离x远的地方移动。但是这只能通过部分样例。这是忽略了一种情况: y根本没机会走到最深的节点。所以需要找到y能到达的最深节点。
6. 最终方案：
   * 首先计算出每个节点所在高度，这通过从x进行dfs实现.
   * 从树中可以看出，y其实有一个不能跨越的祖先高度，这是x限定的，在不超过这个高度的前提下，y就可以达到剩下的任何节点，x是追不上的。这个高度就是从x到y路径的中点(还需讨论下奇偶).

### B、C略，见源码

### D

